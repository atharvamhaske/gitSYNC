// Simple script to create placeholder icons
// Run with: node scripts/create-icons.js

const fs = require('fs');
const path = require('path');

// Minimal valid PNG (1x1 black pixel)
const createMinimalPNG = (size) => {
  // PNG header + IHDR + IDAT + IEND for a simple black square
  // This is a minimal valid PNG structure
  const png = Buffer.from([
    0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A, // PNG signature
    0x00, 0x00, 0x00, 0x0D, // IHDR length
    0x49, 0x48, 0x44, 0x52, // IHDR
    0x00, 0x00, 0x00, 0x10, // width (16)
    0x00, 0x00, 0x00, 0x10, // height (16)
    0x08, 0x02, // bit depth, color type
    0x00, 0x00, 0x00, // compression, filter, interlace
    0x90, 0x91, 0x68, 0x36, // CRC
    0x00, 0x00, 0x00, 0x1D, // IDAT length
    0x49, 0x44, 0x41, 0x54, // IDAT
    0x78, 0x9C, 0x62, 0x60, 0x60, 0x60, 0x60, 0x60,
    0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60,
    0x60, 0x60, 0x60, 0x60, 0x60, 0x00, 0x00, 0x00,
    0x31, 0x00, 0x01,
    0x2A, 0xA1, 0x3E, 0xB9, // CRC
    0x00, 0x00, 0x00, 0x00, // IEND length
    0x49, 0x45, 0x4E, 0x44, // IEND
    0xAE, 0x42, 0x60, 0x82  // CRC
  ]);
  return png;
};

const iconsDir = path.join(__dirname, '..', 'public', 'icons');

// Ensure directory exists
if (!fs.existsSync(iconsDir)) {
  fs.mkdirSync(iconsDir, { recursive: true });
}

// Create icons
[16, 48, 128].forEach(size => {
  const iconPath = path.join(iconsDir, `icon${size}.png`);
  fs.writeFileSync(iconPath, createMinimalPNG(size));
  console.log(`Created ${iconPath}`);
});

console.log('Icons created successfully!');
